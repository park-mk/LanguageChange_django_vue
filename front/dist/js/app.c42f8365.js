(function(t){function e(e){for(var n,s,r=e[0],l=e[1],c=e[2],u=0,p=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var l=a[r];0!==o[l]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},o={app:0},i=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"02b9":function(t,e,a){},"0a28":function(t,e,a){},"0dc1":function(t,e,a){"use strict";var n=a("509f"),o=a.n(n);o.a},1297:function(t,e,a){},3406:function(t,e,a){},"3a85":function(t,e,a){},"3c7a":function(t,e,a){"use strict";var n=a("9f0f"),o=a.n(n);o.a},"47db":function(t,e,a){"use strict";var n=a("7fb1"),o=a.n(n);o.a},"4f18":function(t,e,a){"use strict";var n=a("6180"),o=a.n(n);o.a},"509f":function(t,e,a){},5481:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n,o,i=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("router-view")],1)},r=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-parallax",{attrs:{dark:"",src:a("6a8c"),id:"par"}},[n("div",{attrs:{id:"login_page"}},[n("div",{staticClass:"container"},[n("span",{key:"first",attrs:{id:"logo"}},[n("img",{attrs:{id:"dog",src:a("aa17"),height:"150",width:"150"}}),n("h3",[t._v("清华设备借组系统")])]),n("label",{attrs:{for:"id"}},[n("h5",[n("b",[t._v("ID")])])]),n("p"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.userid,expression:"form.userid"}],attrs:{type:"text",placeholder:"Enter ID",name:"id",required:""},domProps:{value:t.form.userid},on:{input:function(e){e.target.composing||t.$set(t.form,"userid",e.target.value)}}}),n("p"),n("label",{attrs:{for:"pw"}},[n("h5",[n("b",[t._v("Password")])])]),n("p"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],attrs:{type:"password",placeholder:"Enter Password",name:"pw",required:""},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),n("p"),n("div",{attrs:{id:"space"}}),n("button",{attrs:{type:"submit",id:"login"},on:{click:t.login_button}},[n("b",[t._v("Login")])]),n("router-link",{attrs:{to:{name:"sign_up"}}},[n("button",{staticClass:"sign_up",attrs:{type:"button"}},[n("b",[t._v("Sign up")])])]),n("p")],1)])])},c=[],d=a("bc3a"),u=a.n(d),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",[a("v-container",[a("v-row",[a("v-col",[a("h1",[t._v("你好 "+t._s(t.nickname)+" ")])]),a("v-col",[a("v-btn",{attrs:{block:"",outlined:"",color:"blue"},on:{click:t.signOut}},[t._v("登出"),a("v-icon",[t._v("mdi-logout")])],1)],1)],1),a("v-row",[a("v-col",[a("v-row",[a("h2",[t._v(" 收藏 ")])]),a("v-row",[a("v-data-table",{attrs:{headers:t.headers,items:t.bookmark,loading:t.bookmark_loadingtf,"loading-text":"Loading... Please wait"},on:{"click:row":t.rowClick}})],1)],1),a("v-col",[a("v-row",[a("h2",[t._v("浏览记录")])]),a("v-row",[a("v-data-table",{attrs:{headers:t.headers,items:t.history,loading:t.history_loadingtf,"loading-text":"Loading... Please wait"},on:{"click:row":t.rowClick}})],1)],1)],1)],1)],1)},m=[],h=(a("a9e3"),a("d3b7"),a("ac1f"),a("25f0"),a("1276"),{name:"Info",data:function(){return{history_loadingtf:!0,bookmark_loadingtf:!0,total:localStorage.getItem("total"),nickname:"",username:"",created:"",id:"",headers:[{text:"时间",value:"created"},{text:"用户名",value:"nickname"},{text:"标题",value:"title"}],bookmark:[],history:[]}},created:function(){this.fetch()},methods:{fetch:function(){var t=this;u.a.get("http://simplebbs.iterator-traits.com/api/v1/user",{headers:{Authorization:this.$store.state.token}}).then((function(e){console.log(e.data),t.nickname=e.data.nickname,t.username=e.data.username,t.created=e.data.created,t.id=e.data.id})).catch((function(t){return console.log(t)})),u.a.get("http://simplebbs.iterator-traits.com/api/v1/post?page=1&size="+this.total.toString(),{headers:{Authorization:this.$store.state.token}}).then((function(e){t.history_loadingtf=!0;for(var a={},i=[],s=[],r=0;r<t.total;r++)a[r]=new Object;for(var l=0;l<t.total;l++)a[l].id=e.data.posts[l].id,n=e.data.posts[l].created.split("T"),o=n[1].split("+"),a[l].created=n[0]+"/"+o[0],a[l].nickname=e.data.posts[l].nickname,a[l].title=e.data.posts[l].title,a[l].userId=e.data.posts[l].userId;var c=localStorage.getItem("history");c=c.split(",");for(var d=0;d<c.length;d++)for(var u=0;u<t.total;u++)Number(c[d])===Number(a[u].id)&&(console.log("my history",a[u].id),i.push(a[u]));t.history=i,t.history_loadingtf=!1;var p=localStorage.getItem("bookmark");p=p.split(","),console.log(p.length);for(d=0;d<p.length;d++){console.log("hey");for(u=0;u<t.total;u++)Number(p[d])===Number(a[u].id)&&(console.log("my history",a[u].id),s.push(a[u]))}t.bookmark=s,t.bookmark_loadingtf=!1})).catch((function(t){console.log("not working")}))},rowClick:function(t){console.log("post_view/"+t.id),this.$router.push("/post_view/"+t.id)},signOut:function(){var t=this;u.a.patch("http://simplebbs.iterator-traits.com/api/v1/logout",{username:"2016080044"},{headers:{Authorization:this.$store.state.token}}).then((function(e){t.$store.commit("delToken"),t.$router.push({name:"Main"}),alert("logout")})).catch((function(t){return console.log(t)}))}}}),f=h,v=a("2877"),_=a("6544"),g=a.n(_),b=a("8336"),w=a("62ad"),k=a("a523"),x=a("8fea"),y=a("4bd4"),I=a("132d"),C=a("0fd9"),V=Object(v["a"])(f,p,m,!1,null,null,null),q=V.exports;g()(V,{VBtn:b["a"],VCol:w["a"],VContainer:k["a"],VDataTable:x["a"],VForm:y["a"],VIcon:I["a"],VRow:C["a"]});a("04e1");var T={name:"Sign",data:function(){return{form:{userid:"",password:""}}},methods:{login_button:function(){var t=this;console.log("aaaa",this.form),u.a.post("api/login/",this.form).then((function(e){console.log(e.data),localStorage.setItem("token",e.data.token),localStorage.setItem("userid",e.data.userid),localStorage.setItem("username",e.data.username),t.$router.push({name:"home"})})).catch((function(t){alert("wrong user")}))}},mounted:function(){null!==localStorage.getItem("token")&&(console.log("fuckyou"),this.$router.push({name:"home"}))}},S=T,$=(a("3c7a"),a("8b9c")),O=Object(v["a"])(S,l,c,!1,null,"54f03a4e",null),j=O.exports;g()(O,{VParallax:$["a"]});a("dad5");i["a"].prototype.$http=u.a;var E={name:"App",data:function(){return{drawer:null,items:[{icon:"mdi-account-tie",title:"信息",to:{path:"/info"}},{icon:"mdi-forum",title:"论坛",to:{path:"/post_list/1"}}],title:this.$apiRootPath}},mounted:function(){},methods:{signOut:function(){console.log("logout!!!"),this.$store.commit("delToken"),this.$router.push("/")},play:function(){}}},A=E,P=a("7496"),D=Object(v["a"])(A,s,r,!1,null,null,null),N=D.exports;g()(D,{VApp:P["a"]});var z=a("f309");i["a"].use(z["a"]);var R,B,M,F,U=new z["a"]({}),L=a("8c4f"),H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-data-table",{key:"tablekey",staticClass:"elevation-1",attrs:{headers:t.headers,items:t.desserts,"items-per-page":15,"hide-default-footer":"",loading:t.loadingtf,"loading-text":"Loading... Please wait",search:t.search},on:{"click:row":t.rowClick}}),a("v-row",[a("v-btn",{attrs:{outlined:"",color:"blue"},on:{click:t.writeClick}},[t._v(" 创建"),a("v-icon",[t._v("mdi-pen")])],1),a("v-btn",{attrs:{outlined:"",color:"blue"},on:{click:t.previousClick}},[a("v-icon",[t._v("mdi-skip-previous")]),t._v("下一页 ")],1),a("v-btn",{attrs:{outlined:"",color:"blue"},on:{click:t.nextClick}},[t._v(" 上一页 "),a("v-icon",[t._v("mdi-skip-next")])],1)],1)],1)},J=[],G=(a("fb6a"),{name:"Post_List",data:function(){return{search:"",tablekey:0,loadingtf:!0,headers:[{text:"时间",value:"created"},{text:"用户名",value:"nickname"},{text:"标题",value:"title"}],desserts:[{}]}},created:function(){F=window.location.href,F=F.split("#"),F[1]=F[1].slice(11),this.fetch()},methods:{fetch:function(){var t=this;u.a.get("http://simplebbs.iterator-traits.com/api/v1/post?page=1&size=1",{headers:{Authorization:this.$store.state.token}}).then((function(e){M=e.data.total,localStorage.setItem("total",M),t.get_data()})).catch((function(t){alert("error"),console.log("not working")}))},get_data:function(){var t=this;this.loadingtf=!0;var e={},a=[];u.a.get("http://simplebbs.iterator-traits.com/api/v1/post?page="+F[1]+"&size=15",{headers:{Authorization:this.$store.state.token}}).then((function(n){for(var o=0;o<15;o++)e[o]=new Object;for(var i=0;i<15;i++)e[i].id=n.data.posts[i].id,e[i].content=n.data.posts[i].content,R=n.data.posts[i].created.split("T"),B=R[1].split("+"),e[i].created=R[0]+"/"+B[0],e[i].nickname=n.data.posts[i].nickname,e[i].title=n.data.posts[i].title,e[i].updated=n.data.posts[i].updated,e[i].userId=n.data.posts[i].userId;for(var s=0;s<15;s++)a.push(e[s]);t.desserts=a,t.loadingtf=!1})).catch((function(t){alert("error"),console.log("error")}))},forceRerender:function(){this.tablekey+=1,console.log("forcererender")},nextClick:function(){M/15>Number(F[1])&&(F[1]=Number(F[1])+1,this.$router.push("/post_list/"+F[1]),this.get_data())},previousClick:function(){Number(F[1])>1&&(F[1]=Number(F[1])-1,this.$router.push("/post_list/"+F[1]),this.get_data())},writeClick:function(){this.$router.push("/post_write")},rowClick:function(t){console.log("post_view/"+t.id),this.$router.push("/post_view/"+t.id)}}}),K=G,Q=a("8654"),W=Object(v["a"])(K,H,J,!1,null,null,null),Y=W.exports;g()(W,{VBtn:b["a"],VContainer:k["a"],VDataTable:x["a"],VIcon:I["a"],VRow:C["a"],VTextField:Q["a"]});var X,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-parallax",{staticClass:"par",attrs:{dark:"",src:a("6a8c")}},[n("v-container",[n("router-link",{attrs:{to:{name:"home"}}},[n("img",{attrs:{id:"dog",src:a("aa17"),height:"150",width:"150"}})]),n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500"}},[n("v-card-text",[n("div",[t._v("设备信息")]),n("p",{staticClass:"display-1 text--primary"},[t._v(" "+t._s(t.name)+" ")]),n("p",[t._v("设备状态："+t._s(t.equip_status))]),n("div",{staticClass:"text--primary"},[t._v(" 设备说明："+t._s(t.description)),n("br"),t._v(" 出借地址："+t._s(t.location)),n("br"),t._v(" 联系方式："+t._s(t.phone_number)+" ")])])],1),n("div",[n("h2",[t._v("借租历史")]),n("h2",[t._v("评分 "),n("v-rating",{model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}})],1),n("h2",[t._v("留言")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.user_display||t.provider_display,expression:"user_display || provider_display"}]},[n("label",{attrs:{for:"pw"}},[n("h5",[n("b",[t._v("使用日子")])])]),n("v-col",{staticStyle:{"text-align":"center"}},[n("VueHotelDatepicker",{attrs:{disabledDates:t.date,maxNight:14},on:{update:t.data}}),n("label",{attrs:{for:"pw"}},[n("h5",[n("b",[t._v("使用目的")])])]),n("v-textarea",{attrs:{label:"reason",outlined:"",shaped:"","background-color":"grey"},model:{value:t.form.reason,callback:function(e){t.$set(t.form,"reason",e)},expression:"form.reason"}}),n("label",{attrs:{for:"pw"}},[n("h5",[n("b",[t._v("联系方式")])])]),n("v-text-field",{attrs:{label:"phone_number",outlined:"",shaped:"","background-color":"grey"},model:{value:t.form.phone_number,callback:function(e){t.$set(t.form,"phone_number",e)},expression:"form.phone_number"}})],1),n("v-col",[n("v-btn",{on:{click:t.send}},[t._v("request")])],1),n("v-col",[n("router-link",{attrs:{to:{name:"rent_equip"}}},[n("v-btn",{on:{click:t.rent_manage}},[t._v("目录")])],1)],1),n("router-link",{directives:[{name:"show",rawName:"v-show",value:t.manager_display,expression:"manager_display"}],attrs:{to:{name:"rent_equip"}}},[n("v-btn",{on:{click:t.rent_manage}},[t._v("目录")])],1)],1)],1)],1)},tt=[],et=(a("a4d3"),a("e01a"),a("b0c0"),a("fb24")),at=a.n(et),nt={name:"Post_View",components:{Post_View:dt,VueHotelDatepicker:at.a},data:function(){return{date:["2020/09/25","2020/09/26"],provider_id:"",rating:3,is_staff:0,rent_status:0,is_rent:!1,name:"",equip_status:"",phone_number:"",location:"",description:"",form:{reason:"",phone_number:"",start:"",end:"",equipid:0,user_id:"",user_name:""},set:{equipid:"",aaa:""}}},created:function(){this.my_display=!1,X=window.location.href,X=X.split("#"),console.log(X),X[1]=X[1].slice(11),console.log("what is postid",X[1])},methods:{data:function(t){this.form.start=t.start,this.form.end=t.end,console.log(t)},send:function(){var t=this,e={},a={};0==this.is_rent&&0==this.rent_status?(console.log("fuck"),e["userid"]=localStorage.getItem("userid"),e["is_rent"]=this.is_rent,e["rent_status"]=this.rent_status,this.form.user_id=localStorage.getItem("userid"),this.form.equipid=X[1],this.form.user_name=localStorage.getItem("username"),console.log(this.form),u.a.put("api/equip/waitlist/",this.form).then((function(n){console.log(n),console.log("fuckyou"),t.rent_status=1,e["rent_status"]=t.rent_status,a["equipid"]=X[1],a["equip_name"]=t.name,a["provider_id"]=t.provider_id,console.log("pleassssssseeeee",a),u.a.post("api/user_rent_apply/",a).then((function(t){console.log(t)})),u.a.post("api/update_user_status/",e).then((function(t){console.log(t),console.log("motherfucker")}))})).catch((function(t){return console.log(t)}))):(alert("您有还没处理的设备"),location.reload())}},mounted:function(){var t=this;u.a.post("api/send_user_status/",localStorage.getItem("userid")).then((function(e){console.log(e.data),t.is_staff=e.data.is_staff,t.is_rent=e.data.is_rent,t.rent_status=e.data.rent_status,1==t.is_staff?t.manager_display=!0:2==t.is_staff?t.provider_display=!0:(t.user_display=!0,console.log(t.user_display)),u.a.get("api/equip/equip/"+X[1]).then((function(e){console.log("aaaaaaaaaaaaaaaaaaaaaaaa",e),t.provider_id=e.data.provider_id,t.name=e.data.name,t.phone_number=e.data.phone_number,t.location=e.data.location,t.description=e.data.description,0==e.data.is_rent?(t.equip_status="可借",console.log("2 success")):(t.equip_status="租借中",console.log("2 success")),t.set.equipid=X[1],t.set.aaa="0",console.log(t.set),u.a.post("api/equip/waitlist/",t.set).then((function(e){console.log(e),u.a.patch("api/equip/waitlist/",t.set).then((function(e){console.log(e),console.log(e.data.sucess),t.date=e.data.sucess}))}))}))})).catch((function(t){alert("wrong user")}))}},ot=nt,it=(a("47db"),a("b0af")),st=a("99d9"),rt=a("1d4d"),lt=a("a844"),ct=Object(v["a"])(ot,Z,tt,!1,null,null,null),dt=ct.exports;g()(ct,{VBtn:b["a"],VCard:it["a"],VCardText:st["b"],VCol:w["a"],VContainer:k["a"],VParallax:$["a"],VRating:rt["a"],VTextField:Q["a"],VTextarea:lt["a"]});var ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",[a("v-container",[a("v-row",[a("h1",[t._v("标题 ")])]),a("v-row",[a("v-text-field",{attrs:{counter:50,label:"标题",name:"title",required:"",maxlength:"50"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("v-row",[a("v-row",[a("h1",[t._v("内容")])])],1),a("v-row",[a("v-col",[a("v-btn",{attrs:{block:"",outlined:"",color:"blue"},on:{click:t.codeClick}},[t._v(" 代码段的插入 ")])],1),a("v-col",[a("v-text-field",{attrs:{"append-outer-icon":(t.message,"mdi-send"),"prepend-icon":t.icon,filled:"","clear-icon":"mdi-close-circle",clearable:"",label:"img-url",type:"text"},on:{"click:append":t.toggleMarker,"click:append-outer":t.sendMessage,"click:prepend":t.changeIcon,"click:clear":t.clearMessage},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1)],1),a("v-row",[a("div",{staticClass:"example"},[a("quill-editor",{ref:"myTextEditor",staticClass:"editor",attrs:{value:t.content,options:t.editorOption},on:{change:t.onEditorChange,blur:function(e){return t.onEditorBlur(e)},focus:function(e){return t.onEditorFocus(e)},ready:function(e){return t.onEditorReady(e)}}})],1)]),a("v-row",[a("v-btn",{attrs:{block:"",outlined:"",color:"blue"},on:{click:t.writeClick}},[t._v(" 发帖"),a("v-icon",[t._v("mdi-comment-processing-outline")])],1)],1)],1)],1)},pt=[],mt=(a("5319"),a("8785")),ht=a("a7ef"),ft=a.n(ht),vt=a("1487"),_t=a.n(vt),gt=a("b047"),bt=a.n(gt),wt=a("953d");a("a753"),a("8096");function kt(){var t=Object(mt["a"])([""]);return kt=function(){return t},t}var xt={name:"post_writer",components:{quillEditor:wt["quillEditor"]},data:function(){return{code:0,tem_content:"",img:"< img src='https://iknow-pic.cdn.bcebos.com/9213b07eca806538288cd37e95dda144ad34827cstyle='max-width: 100%;'>",password:"Password",show:!1,message:"",marker:!0,iconIndex:0,icons:["mdi-emoticon","mdi-emoticon-cool","mdi-emoticon-dead","mdi-emoticon-excited","mdi-emoticon-happy","mdi-emoticon-neutral","mdi-emoticon-sad","mdi-emoticon-tongue"],title:"",editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{color:[]},{background:[]}],[{align:[]}],["clean"],["link","image","video"]],syntax:{highlight:function(t){return _t.a.highlightAuto(t).value}}}},content:ft()(kt())}},methods:{toggleMarker:function(){this.marker=!this.marker},sendMessage:function(){this.content=this.content+'<img src="'+this.message+'" style="max-width: 100%;">',this.resetIcon(),this.clearMessage()},clearMessage:function(){this.message=""},resetIcon:function(){this.iconIndex=0},changeIcon:function(){this.iconIndex===this.icons.length-1?this.iconIndex=0:this.iconIndex++},codeClick:function(){this.content=this.content+"<pre>  <br>insert your code code </pre>",console.log("code:",this.code)},writeClick:function(){var t=this;this.content=this.content.replace("😀","#笑"),this.content=this.content.replace("😷","#生病"),this.content=this.content.replace("😂","#哭笑"),this.content=this.content.replace("😝","#调皮"),this.content=this.content.replace("😳","#惊讶"),this.content=this.content.replace("😱","#恐怖"),this.content=this.content.replace("😔","#忧郁"),this.content=this.content.replace("😒","#不耐烦"),this.content=this.content.replace("🙄","#哇"),this.content=this.content.replace("😩","#好累"),this.content=this.content.replace("🤔","#想一想"),this.content=this.content.replace("👻","#鬼"),this.content=this.content.replace("🙈","#猴子"),this.content=this.content.replace("🙏","#谢谢"),this.content=this.content.replace("💪","#强壮"),this.content=this.content.replace("👊","#拳头"),this.content=this.content.replace("💯","#一百分"),this.content=this.content.replace("🍻","#啤酒"),this.content=this.content.replace("🎁","#礼物"),this.content=this.content.replace(' <img src=https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcT-r-V49N0wM_Fmz8djUiCJPaBur4883lv5Dg&usqp=CAU  style="max-width: 100%;">',"#我的自定义表情#"),u.a.post("http://simplebbs.iterator-traits.com/api/v1/post",this.$data,{headers:{Authorization:this.$store.state.token}}).then((function(e){console.log(e),t.$router.push("/post_list/1")})).catch((function(t){alert("error"),console.log(t)}))},onEditorChange:bt()((function(t){this.content=t.html,this.content=this.content.replace("#笑","😀"),this.content=this.content.replace("#生病","😷"),this.content=this.content.replace("#哭笑","😂"),this.content=this.content.replace("#调皮","😝"),this.content=this.content.replace("#惊讶","😳"),this.content=this.content.replace("#恐怖","😱"),this.content=this.content.replace("#忧郁","😔"),this.content=this.content.replace("#不耐烦","😒"),this.content=this.content.replace("#哇","🙄"),this.content=this.content.replace("#好累","😩"),this.content=this.content.replace("#想一想","🤔"),this.content=this.content.replace("#鬼","👻"),this.content=this.content.replace("#猴子","🙈"),this.content=this.content.replace("#谢谢","🙏"),this.content=this.content.replace("#强壮","💪"),this.content=this.content.replace("#拳头","👊"),this.content=this.content.replace("#一百分","💯"),this.content=this.content.replace("#啤酒","🍻"),this.content=this.content.replace("#礼物","🎁"),this.content=this.content.replace("#我的自定义表情#",' <img src=https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcT-r-V49N0wM_Fmz8djUiCJPaBur4883lv5Dg&usqp=CAU style="max-width: 100%;">'),console.log(this.content)}),466),onEditorBlur:function(t){console.log("editor blur!",t)},onEditorFocus:function(t){console.log("editor focus!",t)},onEditorReady:function(t){console.log("editor ready!",t)}},computed:{editor:function(){return this.$refs.myTextEditor.quill},contentCode:function(){return _t.a.highlightAuto(this.content).value}},mounted:function(){console.log("this is Quill instance:",this.editor)}},yt=xt,It=(a("fd63"),Object(v["a"])(yt,ut,pt,!1,null,"522fe1e7",null)),Ct=It.exports;g()(It,{VBtn:b["a"],VCol:w["a"],VContainer:k["a"],VForm:y["a"],VIcon:I["a"],VRow:C["a"],VTextField:Q["a"]});var Vt,qt,Tt,St,$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-data-table",{key:"tablekey",staticClass:"elevation-1",attrs:{headers:t.headers,items:t.desserts,"items-per-page":5,loading:t.loadingtf,"loading-text":"Loading... Please wait"},on:{"click:row":t.rowClick}}),a("v-row",[a("v-btn",{attrs:{outlined:"",color:"blue"},on:{click:t.listClick}},[t._v(" 目录"),a("v-icon",[t._v("mdi-menu")])],1)],1)],1)},Ot=[],jt={name:"User_View",data:function(){return{tablekey:0,loadingtf:!0,headers:[{text:"时间",value:"created"},{text:"用户名",value:"nickname"},{text:"标题",value:"title"}],desserts:[{}]}},created:function(){St=window.location.href,St=St.split("#"),St[1]=St[1].slice(11),console.log(St[1],"ttttt"),this.fetch()},methods:{fetch:function(){var t=this;u.a.get("http://simplebbs.iterator-traits.com/api/v1/post?page=1&size=1",{headers:{Authorization:this.$store.state.token}}).then((function(e){console.log(e.data),console.log("fuckkkkk"),Tt=e.data.total,console.log(Tt),t.get_data(),console.log("fuckkkkk")})).catch((function(t){console.log("not working")}))},get_data:function(){var t=this,e={},a=[];console.log("working????"),u.a.get("http://simplebbs.iterator-traits.com/api/v1/post?size="+Tt,{headers:{Authorization:this.$store.state.token}}).then((function(n){console.log("working????"),console.log(n.data);for(var o=0;o<Tt;o++)e[o]=new Object,console.log("new");for(var i=0;i<Tt;i++)e[i].id=n.data.posts[i].id,e[i].content=n.data.posts[i].content,Vt=n.data.posts[i].created.split("T"),qt=Vt[1].split("+"),e[i].created=Vt[0]+"/"+qt[0],e[i].nickname=n.data.posts[i].nickname,e[i].title=n.data.posts[i].title,e[i].updated=n.data.posts[i].updated,e[i].userId=n.data.posts[i].userId;for(var s=0;s<Tt;s++)Number(St[1])===e[s].userId&&a.push(e[s]);t.desserts=a,console.log(t.desserts),t.loadingtf=!1})).catch((function(t){console.log("error")}))},listClick:function(){this.$router.push("/post_list/1")},rowClick:function(t){console.log("post_view/"+t.id),this.$router.push("/post_view/"+t.id)}}},Et=jt,At=Object(v["a"])(Et,$t,Ot,!1,null,null,null),Pt=At.exports;g()(At,{VBtn:b["a"],VContainer:k["a"],VDataTable:x["a"],VIcon:I["a"],VRow:C["a"]});var Dt,Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",[a("v-container",[a("v-row",[t._v(" 标题 ")]),a("v-row",[a("v-text-field",{attrs:{counter:50,label:"제목",name:"title",required:"",maxlength:"50"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("v-row",[a("v-row",[t._v("内容 ")])],1),a("v-row",[a("v-col",[a("v-btn",{attrs:{block:"",outlined:"",color:"blue"},on:{click:t.codeClick}},[t._v(" 代码段的插入 ")])],1),a("v-col",[a("v-text-field",{attrs:{"append-outer-icon":(t.message,"mdi-send"),"prepend-icon":t.icon,filled:"","clear-icon":"mdi-close-circle",clearable:"",label:"img-url",type:"text"},on:{"click:append":t.toggleMarker,"click:append-outer":t.sendMessage,"click:prepend":t.changeIcon,"click:clear":t.clearMessage},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1)],1),a("v-row",[a("div",{staticClass:"example"},[a("quill-editor",{ref:"myTextEditor",staticClass:"editor",attrs:{value:t.content,options:t.editorOption},on:{change:t.onEditorChange,blur:function(e){return t.onEditorBlur(e)},focus:function(e){return t.onEditorFocus(e)},ready:function(e){return t.onEditorReady(e)}}})],1)]),a("v-row",[a("v-btn",{attrs:{block:"",outlined:"",color:"blue"},on:{click:t.writeClick}},[t._v(" 发帖 "),a("v-icon",[t._v("mdi-comment-processing-outline")])],1)],1)],1)],1)},zt=[];function Rt(){var t=Object(mt["a"])([""]);return Rt=function(){return t},t}var Bt={name:"Edit_View",components:{quillEditor:wt["quillEditor"]},created:function(){Dt=window.location.href,Dt=Dt.split("#"),Dt[1]=Dt[1].slice(11),console.log(Dt[1]),this.fetch()},methods:{fetch:function(){var t=this;u.a.get("http://simplebbs.iterator-traits.com/api/v1/post/"+Dt[1],{headers:{Authorization:this.$store.state.token}}).then((function(e){t.title=e.data.title,t.content=e.data.content,console.log(t.title),console.log(t.content)})).catch((function(t){console.log(t),alert("error")}))},toggleMarker:function(){this.marker=!this.marker},sendMessage:function(){this.content=this.content+'<img src="'+this.message+'" style="max-width: 100%;">',this.resetIcon(),this.clearMessage()},clearMessage:function(){this.message=""},resetIcon:function(){this.iconIndex=0},changeIcon:function(){this.iconIndex===this.icons.length-1?this.iconIndex=0:this.iconIndex++},codeClick:function(){this.content=this.content+"<pre>  <br>insert your code code </pre>",console.log("code:",this.code)},writeClick:function(){var t=this;this.content=this.content.replace("😀","#笑"),u.a.put("http://simplebbs.iterator-traits.com/api/v1/post/"+Dt[1],this.$data,{headers:{Authorization:this.$store.state.token}}).then((function(e){console.log(e),t.$router.push("/post_list/1")})).catch((function(t){alert("error"),console.log(t)}))},onEditorChange:bt()((function(t){this.content=t.html,this.content=this.content.replace("#笑","😀"),console.log(this.content)}),466),onEditorBlur:function(t){console.log("editor blur!",t)},onEditorFocus:function(t){console.log("editor focus!",t)},onEditorReady:function(t){console.log("editor ready!",t)}},computed:{editor:function(){return this.$refs.myTextEditor.quill},contentCode:function(){return _t.a.highlightAuto(this.content).value}},mounted:function(){console.log("this is Quill instance:",this.editor)},data:function(){return{code:0,tem_content:"",password:"Password",show:!1,message:"",marker:!0,iconIndex:0,icons:["mdi-emoticon","mdi-emoticon-cool","mdi-emoticon-dead","mdi-emoticon-excited","mdi-emoticon-happy","mdi-emoticon-neutral","mdi-emoticon-sad","mdi-emoticon-tongue"],title:"",editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{color:[]},{background:[]}],[{align:[]}],["clean"],["link","image","video"]],syntax:{highlight:function(t){return _t.a.highlightAuto(t).value}}}},content:ft()(Rt())}}},Mt=Bt,Ft=(a("fc36"),Object(v["a"])(Mt,Nt,zt,!1,null,"61743412",null)),Ut=Ft.exports;g()(Ft,{VBtn:b["a"],VCol:w["a"],VContainer:k["a"],VForm:y["a"],VIcon:I["a"],VRow:C["a"],VTextField:Q["a"]});var Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("section",{staticClass:"banner-area",attrs:{id:"home"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"about-content col-lg-12"},[a("h1",{staticClass:"text-white",staticStyle:{"font-size":"40px",color:"white","line-height":"200px"}},[t._v(" Become a User ")]),t._m(0),a("router-link",{attrs:{to:{name:"Main"}}},[t._v("Go to Login")])],1)])]),a("h2",{staticStyle:{"line-height":"100px"}},[t._v("Want to help? Become a User.")]),a("div",{attrs:{id:"join_form"}},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"text",placeholder:"Enter ID",required:""},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}}),a("br"),t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pw,expression:"pw"}],attrs:{type:"password",placeholder:"Password length must be 6 to 12",required:""},domProps:{value:t.pw},on:{input:function(e){e.target.composing||(t.pw=e.target.value)}}}),a("br"),t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_name,expression:"user_name"}],attrs:{type:"text",placeholder:"Enter User name",required:""},domProps:{value:t.user_name},on:{input:function(e){e.target.composing||(t.user_name=e.target.value)}}}),a("br"),t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",placeholder:"Enter email",maxlength:"100",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("br"),a("button",{attrs:{type:"submit",id:"submit"},on:{click:t.sign_up_button}},[t._v(" Sign Up ")])])])},Ht=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-white"},[a("span",{staticClass:"lnr lnr-arrow-right"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"id"}},[a("b",[t._v("清华工号")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"pw"}},[a("b",[t._v("密码")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"user_name"}},[a("b",[t._v("名字")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"email"}},[a("b",[t._v("清华邮箱")])])}],Jt={data:function(){return{id:"",pw:"",pw2:"",user_name:"",nickname:"",address:"",detail_address:"",p_num:"",email:""}},methods:{sign_up_button:function(){var t={};t["username"]=this.user_name,t["userid"]=this.id,t["email"]=this.email,t["password"]=this.pw,console.log(t),u.a.post("api/register/",t).then((function(t){console.log(t)})).catch((function(t){console.log("error")}))}}},Gt=Jt,Kt=(a("f4a6"),Object(v["a"])(Gt,Lt,Ht,!1,null,"661d5d15",null)),Qt=Kt.exports,Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-parallax",{attrs:{dark:"",src:a("6a8c"),id:"par"}},[n("div",{attrs:{id:"login_page"}},[n("div",{staticClass:"container"},[n("v-row",[n("notification-bell",{staticStyle:{float:"right"},attrs:{iconColor:"yellow",counterLocation:"lowerRight",count:"1"}}),n("v-btn",{on:{click:t.logout}},[t._v("登出")])],1),n("span",{key:"first",attrs:{id:"logo"}},[n("img",{attrs:{id:"dog",src:a("aa17"),height:"150",width:"150"}}),n("h3",[t._v("清华设备借组系统")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.manager_display,expression:"manager_display"}],staticClass:"manager"},[n("v-col",[n("router-link",{attrs:{to:{name:"manage_user"}}},[n("v-btn",{on:{click:t.user_manage}},[t._v("用户管理")])],1)],1),n("v-col",[n("router-link",{attrs:{to:{name:"manage_equip"}}},[n("v-btn",{on:{click:t.equip_manage}},[t._v("设备管理")])],1)],1),n("v-col",[n("router-link",{attrs:{to:{name:"manage_rent"}}},[n("v-btn",{on:{click:t.rent_manage}},[t._v("租借管理")])],1)],1),n("v-col",[n("v-btn",[t._v("数据统计")])],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.user_display,expression:"user_display"}],staticClass:"user"},[n("v-col",[n("router-link",{attrs:{to:{name:"my_info"}}},[n("v-btn",[t._v("我的信息")])],1)],1),n("v-col",[n("router-link",{attrs:{to:{name:"rent_equip"}}},[n("v-btn",{on:{click:t.rent_manage}},[t._v("租借设备")])],1)],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.provider_display,expression:"provider_display"}],staticClass:"provider"},[n("v-col",[n("router-link",{attrs:{to:{name:"my_info"}}},[n("v-btn",[t._v("我的信息")])],1)],1),n("v-col",[n("router-link",{attrs:{to:{name:"my_equip"}}},[n("v-btn",{on:{click:t.equip_manage}},[t._v("我的设备")])],1)],1),n("v-col",[n("router-link",{attrs:{to:{name:"rent_equip"}}},[n("v-btn",[t._v("租借设备")])],1)],1)],1)],1)])])},Yt=[],Xt=a("0db5"),Zt=a.n(Xt),te={components:{NotificationBell:Zt.a},data:function(){return{id:"",pw:"",token1:{token:"11",token3:""},is_staff:0,ttt:"",user:{userid:0},manager_display:!1,user_display:!1,provider_display:!1}},methods:{logout:function(){localStorage.removeItem("token"),this.$router.push({name:"Main"}),alert("logout")}},mounted:function(){var t=this;u.a.post("api/send_user_status/",localStorage.getItem("userid")).then((function(e){console.log(e.data),t.is_staff=e.data.is_staff,1==t.is_staff?t.manager_display=!0:2==t.is_staff?t.provider_display=!0:t.user_display=!0})).catch((function(t){alert("wrong user")}))}},ee=te,ae=(a("96fc"),Object(v["a"])(ee,Wt,Yt,!1,null,"143a3bba",null)),ne=ae.exports;g()(ae,{VBtn:b["a"],VCol:w["a"],VParallax:$["a"],VRow:C["a"]});var oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-parallax",{attrs:{dark:"",src:a("6a8c"),id:"par"}},[n("img",{attrs:{id:"dog",src:a("aa17"),height:"150",width:"150"}}),n("v-card",[n("v-card-title",[n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.desserts,"sort-by":"username",search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",[t._v("用户管理")]),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),n("v-spacer"),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",[n("v-row",[t._v(" 理由： "+t._s(t.reason)+" "),n("br"),t._v(" 实验室： "+t._s(t.lab)+" "),n("br"),t._v(" 联系方式： "+t._s(t.phone_number)+" ")])],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.deny(t.editedItem)}}},[t._v("Deny")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.up_staff(t.editedItem)}}},[t._v("Accept")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var a=e.item;return[2==a.is_staff?n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.down_staff(a)}}},[t._v(" mdi-arrow-down-thick ")]):t._e(),3==a.is_staff?n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.up_staff(a)}}},[t._v(" mdi-arrow-up-thick ")]):t._e(),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.deleteItem(a)}}},[t._v(" mdi-delete ")]),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.rowClick(a)}}},[t._v(" mdi-account-details ")]),1==a.is_apply_a?n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(a)}}},[t._v(" mdi-alert-circle ")]):t._e()]}}])})],1)],1)},ie=[],se=(a("c975"),a("a434"),a("53ca")),re={data:function(){return{reason:"",lab:"",phone_number:"",search:"",dialog:!1,headers:[{text:"名字",value:"username"},{text:"学号",value:"userid"},{text:"用户类型",value:"usertype"},{text:"Actions",value:"actions",sortable:!1}],desserts:[],d:[],editedIndex:-1,editedItem:{},defaultItem:{}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){this.desserts=[]},editItem:function(t){var e=this,a={};a["userid"]=t.userid,a["token"]=localStorage.getItem("token"),console.log(a),u.a.post("api/apply_userinfo/",a).then((function(t){e.reason=t.data.reason_a.split("#")[0],e.lab=t.data.reason_a.split("#")[1],e.phone_number=t.data.reason_a.split("#")[2]})).catch((function(t){alert("wrong user")})),this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this.desserts.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(e,1);var a={};a["userid"]=t.userid,a["token"]=localStorage.getItem("token"),console.log(a),u.a.post("api/delete/",a).then((function(t){console.log(t)})).catch((function(t){alert("wrong user")}))},deny:function(t){var e=this,a={};a["userid"]=t.userid,a["token"]=localStorage.getItem("token"),console.log(a),u.a.post("api/deny_apply_a/",a).then((function(t){console.log(t)})).catch((function(t){alert("wrong user")})),this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1})),location.reload()},save:function(){this.editedIndex>-1?Object.assign(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),this.close()},down_staff:function(t){var e={};e["userid"]=t.userid,e["token"]=localStorage.getItem("token"),console.log(e),u.a.post("api/statusdown/",e).then((function(t){console.log(t),location.reload()})).catch((function(t){alert("wrong user")}))},up_staff:function(t){var e=this;console.log(t);var a={};a["userid"]=t.userid,a["token"]=localStorage.getItem("token"),console.log(a),u.a.post("api/statusup/",a).then((function(t){console.log(t),e.dialog=!1,e.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1,location.reload()}))})).catch((function(t){alert("wrong user")}))},rowClick:function(t){console.log("post_view/"+t.id),this.$router.push("/post_view/"+t.id)}},mounted:function(){var t=this;u.a.post("api/userslist/",localStorage.getItem("token")).then((function(e){console.log(e.data.list),t.d=e.data.list,console.log("aaaa",t.d.length),console.log(t.d[0].is_staff);for(var a=0;a<t.d.length;a++)2==t.d[a].is_staff?(t.d[a]["usertype"]="设备提供者",console.log("2 success")):3==t.d[a].is_staff?(t.d[a]["usertype"]="普通用户",console.log("2 success")):console.log("fail");t.desserts=t.d,console.log(t.d),console.log(Object(se["a"])(e.data))})).catch((function(t){alert("wrong user")}))}},le=re,ce=(a("7edc"),a("169a")),de=a("ce7e"),ue=a("2fa4"),pe=a("71d9"),me=a("2a7f"),he=Object(v["a"])(le,oe,ie,!1,null,null,null),fe=he.exports;g()(he,{VBtn:b["a"],VCard:it["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:st["c"],VContainer:k["a"],VDataTable:x["a"],VDialog:ce["a"],VDivider:de["a"],VIcon:I["a"],VParallax:$["a"],VRow:C["a"],VSpacer:ue["a"],VTextField:Q["a"],VToolbar:pe["a"],VToolbarTitle:me["a"]});var ve=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-parallax",{attrs:{dark:"",src:a("6a8c"),id:"par"}},[n("img",{attrs:{id:"dog",src:a("aa17"),height:"150",width:"150"}}),n("v-card",[n("v-card-title",[n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.desserts,"sort-by":"username",search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",[t._v("设备管理")]),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),n("v-spacer"),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",[n("v-row",[t._v(" 设备名称： "+t._s(t.name)+" "),n("br"),t._v(" 设备说明： "+t._s(t.description)+" "),n("br"),t._v(" 出借方地址： "+t._s(t.location)+" "),n("br"),t._v(" 联系方式： "+t._s(t.phone_number)+" ")])],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.deny(t.editedItem)}}},[t._v("Deny")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.up_staff(t.editedItem)}}},[t._v("Accept")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var a=e.item;return[1==a.is_on?n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.down_staff(a)}}},[t._v(" mdi-arrow-down-thick ")]):t._e(),0==a.is_on?n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.up_staff(a)}}},[t._v(" mdi-arrow-up-thick ")]):t._e(),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.deleteItem(a)}}},[t._v(" mdi-delete ")]),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.rowClick(a)}}},[t._v(" mdi-account-details ")]),1==a.is_apply?n("v-icon",{attrs:{small:""},on:{click:function(e){return t.editItem(a)}}},[t._v(" mdi-alert-circle ")]):t._e()]}}])})],1)],1)},_e=[],ge={data:function(){return{search:"",dialog:!1,headers:[{text:"设备名称",value:"name"},{text:"联系方式",value:"phone_number"},{text:"设备状态",value:"equiptype"},{text:"Actions",value:"actions",sortable:!1}],desserts:[],d:[],editedIndex:-1,editedItem:{},defaultItem:{},name:"",phone_number:"",description:"",location:""}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){this.desserts=[]},editItem:function(t){var e=this,a={};a["equipid"]=t.id,a["token"]=localStorage.getItem("token"),console.log(a),u.a.post("api/equip/description/",a).then((function(t){console.log(t),e.description=t.data.description,e.location=t.data.location,e.name=t.data.name,e.phone_number=t.data.phone_number})).catch((function(t){alert("wrong user")})),this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this.desserts.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(e,1);var a={};a["equipid"]=t.id,a["token"]=localStorage.getItem("token"),console.log(a),u.a.post("api/equip/delete/",a).then((function(t){console.log(t)})).catch((function(t){alert("wrong user")}))},deny:function(t){var e=this,a={};a["equipid"]=t.id,a["token"]=localStorage.getItem("token"),console.log(a),u.a.post("api/equip/deny/",a).then((function(t){console.log(t)})).catch((function(t){alert("wrong user")})),this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?Object.assign(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),this.close()},down_staff:function(t){u.a.get("api/equip/off/"+t.id).then((function(t){console.log(t),location.reload()})).catch((function(t){alert("wrong user")}))},up_staff:function(t){var e=this;console.log(t.id),u.a.get("api/equip/on/"+t.id).then((function(t){console.log(t),e.dialog=!1,e.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1,location.reload()}))})).catch((function(t){alert("wrong user")}))},rowClick:function(t){console.log("post_view/"+t.id),this.$router.push("/post_view/"+t.id)}},mounted:function(){var t=this;u.a.post("api/equip/equiplist/",localStorage.getItem("token")).then((function(e){console.log(e.data.list),t.d=e.data.list,console.log("aaaa",t.d.length);for(var a=0;a<t.d.length;a++)0==t.d[a].is_on?(t.d[a]["equiptype"]="下架",console.log("2 success")):1==t.d[a].is_on?(t.d[a]["equiptype"]="上架",console.log("2 success")):console.log("fail");t.desserts=t.d,console.log(t.d),console.log(Object(se["a"])(e.data))})).catch((function(t){alert("wrong user")}))}},be=ge,we=(a("6452"),Object(v["a"])(be,ve,_e,!1,null,null,null)),ke=we.exports;g()(we,{VBtn:b["a"],VCard:it["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:st["c"],VContainer:k["a"],VDataTable:x["a"],VDialog:ce["a"],VDivider:de["a"],VIcon:I["a"],VParallax:$["a"],VRow:C["a"],VSpacer:ue["a"],VTextField:Q["a"],VToolbar:pe["a"],VToolbarTitle:me["a"]});var xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-parallax",{attrs:{dark:"",src:a("6a8c"),id:"par"}},[n("img",{attrs:{id:"dog",src:a("aa17"),height:"150",width:"150"}}),n("v-card",[n("v-card-title",[n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.desserts,"sort-by":"username",search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",[t._v("租借管理")]),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),n("v-spacer"),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",[n("v-row",[t._v(" 设备名称： "+t._s(t.equip_name)+" "),n("br"),t._v(" 租借人： "+t._s(t.rent_user_name)+" "),n("br"),t._v(" 用途： "+t._s(t.reason)+" "),n("br"),t._v(" 租借开始： "+t._s(t.rent_start)+" "),n("br"),t._v(" 租借结束： "+t._s(t.rent_exp)+" ")])],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.deny(t.editedItem)}}},[t._v("Deny")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.save(t.editedItem)}}},[t._v("Accept")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var a=e.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.deleteItem(a)}}},[t._v(" mdi-delete ")]),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.rowClick(a)}}},[t._v(" mdi-account-details ")]),1==a.is_apply?n("v-icon",{attrs:{small:""},on:{click:function(e){return t.editItem(a)}}},[t._v(" mdi-alert-circle ")]):t._e()]}}])})],1)],1)},ye=[],Ie={data:function(){return{search:"",dialog:!1,headers:[{text:"出借人",value:"id"},{text:"租借人",value:"rent_user_name"},{text:"设备名称",value:"name"},{text:"状态",value:"rent_status"},{text:"Actions",value:"actions",sortable:!1}],desserts:[],d:[],editedIndex:-1,editedItem:{},defaultItem:{},name:"",phone_number:"",description:"",location:"",reason:"",rent_user_name:"",equip_name:"",rent_start:"",rent_exp:""}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){this.desserts=[]},editItem:function(t){var e=this,a={};a["equipid"]=t.id,a["token"]=localStorage.getItem("token"),console.log(a),u.a.post("api/equip/rentdescription/",a).then((function(t){console.log(t),e.reason=t.data.reason,e.rent_user_name=t.data.rent_user_name,e.equip_name=t.data.name,e.rent_start=t.data.rent_start,e.rent_exp=t.data.rent_exp})).catch((function(t){alert("wrong user")})),this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this.desserts.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(e,1);var a={};a["equipid"]=t.id,a["token"]=localStorage.getItem("token"),console.log(a),u.a.post("api/equip/delete/",a).then((function(t){console.log(t)})).catch((function(t){alert("wrong user")}))},deny:function(t){var e=this,a={};a["equipid"]=t.id,a["token"]=localStorage.getItem("token"),console.log(a),u.a.post("api/equip/deny/",a).then((function(t){console.log(t)})).catch((function(t){alert("wrong user")})),this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1})),location.reload()},save:function(t){var e={};e["equipid"]=t.id,e["token"]=localStorage.getItem("token"),u.a.post("api/equip/accept_rent_apply/",e).then((function(t){console.log(t),location.reload()})).catch((function(t){alert("wrong user")}))},down_staff:function(t){u.a.get("api/equip/off/"+t.id).then((function(t){console.log(t),location.reload()})).catch((function(t){alert("wrong user")}))},up_staff:function(t){var e=this;console.log(t.id),u.a.get("api/equip/on/"+t.id).then((function(t){console.log(t),e.dialog=!1,e.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1,location.reload()}))})).catch((function(t){alert("wrong user")}))},rowClick:function(t){console.log("post_view/"+t.id),this.$router.push("/post_view/"+t.id)}},mounted:function(){var t=this;u.a.post("api/equip/rentlist/",localStorage.getItem("token")).then((function(e){console.log(e.data.list),t.d=e.data.list,console.log("aaaa",t.d.length);for(var a=0;a<t.d.length;a++)1==t.d[a].is_apply?(t.d[a]["rent_status"]="待审核",console.log("2 success")):0==t.d[a].is_apply?(t.d[a]["rent_status"]="租借中",console.log("2 success")):console.log("fail");t.desserts=t.d,console.log(t.d),console.log(Object(se["a"])(e.data))})).catch((function(t){alert("wrong user")}))}},Ce=Ie,Ve=(a("0dc1"),Object(v["a"])(Ce,xe,ye,!1,null,null,null)),qe=Ve.exports;g()(Ve,{VBtn:b["a"],VCard:it["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:st["c"],VContainer:k["a"],VDataTable:x["a"],VDialog:ce["a"],VDivider:de["a"],VIcon:I["a"],VParallax:$["a"],VRow:C["a"],VSpacer:ue["a"],VTextField:Q["a"],VToolbar:pe["a"],VToolbarTitle:me["a"]});var Te,Se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-parallax",{staticClass:"par",attrs:{dark:"",src:a("6a8c")}},[n("v-container",[n("router-link",{attrs:{to:{name:"home"}}},[n("img",{attrs:{id:"dog",src:a("aa17"),height:"150",width:"150"}})]),n("h2",[t._v("用户信息")]),n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500"}},[n("v-card-text",[n("p",{staticClass:"display-1 text--primary"},[t._v(" "+t._s(t.username)+" ")]),n("p",[t._v("学号："+t._s(t.userid))]),n("div",{staticClass:"text--primary"},[t._v(" 邮箱："+t._s(t.email)),n("br"),n("div",{directives:[{name:"show",rawName:"v-show",value:t.is_rent,expression:"is_rent"}]},[t._v(" 在租借"+t._s(t.location)),n("br"),t._v(" 还剩余："+t._s(t.days)+" ")])])])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.display_list,expression:"display_list"}]},[n("h2",[t._v("借租历史")]),n("v-card",{staticClass:"mx-auto",staticStyle:{overflow:"visible"},attrs:{"max-width":"500"}},[n("v-card-text",t._l(t.list,(function(e,a){return n("div",{staticClass:"text--primary"},[n("h4",[t._v("租借人："+t._s(e.user_name))]),t._v(" 租借开始："+t._s(e.rent_start)),n("br"),t._v(" 租借结束："+t._s(e.rent_exp)),n("br"),t._v(" 联系方式："+t._s(e.phone_number)),n("br"),t._v(" 用途："+t._s(e.reason)+" "),n("v-divider")],1)})),0)],1)],1),n("h2",[t._v("评分 "),n("v-rating",{model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}})],1),n("h2",[t._v("留言")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.provider_display,expression:"provider_display"}]},[n("router-link",{attrs:{to:{name:"my_equip"}}},[n("v-btn",{on:{click:t.rent_manage}},[t._v("目录")])],1),n("router-link",{directives:[{name:"show",rawName:"v-show",value:t.manager_display,expression:"manager_display"}],attrs:{to:{name:"rent_equip"}}},[n("v-btn",{on:{click:t.rent_manage}},[t._v("目录")])],1)],1)],1)],1)},$e=[],Oe={name:"Post_View",components:{Post_View:dt,VueHotelDatepicker:at.a},data:function(){return{date:["2020/09/25","2020/09/26"],rating:4,is_staff:0,username:"",rent_equip_id:"",days:"",email:"",userid:"",equip_status:"",phone_number:"",location:"",description:"",form:{reason:"",phone_number:"",start:"",end:"",equipid:0,user_id:"",user_name:""},set:{equipid:"",aaa:""},history_name:"",rent_start:"",rent_exp:"",reason:"",list:[],display_list:!1,display_waiting_list:!1,waiting_list:[],rent_status:0,is_rent:!1}},created:function(){this.my_display=!1,Te=window.location.href,Te=Te.split("#"),console.log(Te),Te[1]=Te[1].slice(12),console.log("what is postid",Te[1])},methods:{wait_accept:function(t){var e=this,a={},n={};a["equipid"]=Te[1],a["id"]=t.id,n["userid"]=localStorage.getItem("userid"),n["is_rent"]=this.is_rent,n["rent_status"]=this.rent_status,u.a.post("api/equip/wait_allow/",a).then((function(t){console.log(t),e.is_rent=!0,n["is_rent"]=e.is_rent,u.a.post("api/update_user_status/",n).then((function(t){console.log(t),console.log("motherfucker"),location.reload()}))})).catch((function(t){return console.log(t)}))},wait_deny:function(t){var e=this,a={};a["userid"]=localStorage.getItem("userid"),a["is_rent"]=this.is_rent,a["rent_status"]=this.rent_status;var n={};n["equipid"]=Te[1],n["id"]=t.id,u.a.put("api/equip/wait_allow/",n).then((function(t){console.log(t),e.rent_status=0,e.is_rent=!1,a["is_rent"]=e.is_rent,a["rent_status"]=e.rent_status,u.a.post("api/update_user_status/",a).then((function(t){console.log(t),console.log("motherfucker"),location.reload()}))})).catch((function(t){return console.log(t)}))},data:function(t){this.form.start=t.start,this.form.end=t.end,console.log(t)},send:function(){this.form.user_id=localStorage.getItem("userid"),this.form.equipid=Te[1],this.form.user_name=localStorage.getItem("username"),console.log(this.form),u.a.put("api/equip/waitlist/",this.form).then((function(t){console.log(t),location.reload()})).catch((function(t){return console.log(t)}))}},mounted:function(){var t=this;u.a.post("api/send_user_status/",localStorage.getItem("userid")).then((function(e){console.log(e.data),t.is_staff=e.data.is_staff,t.is_rent=e.data.is_rent,t.rent_status=e.data.rent_status,1==t.is_staff?t.manager_display=!0:2==t.is_staff?t.provider_display=!0:(t.user_display=!0,console.log(t.user_display)),u.a.post("api/render",localStorage.getItem("userid")).then((function(e){console.log(e),t.username=e.data.info.username,t.userid=e.data.info.userid,t.email=e.data.info.email,t.rent_equip_id=e.data.info.apply_equip_id,t.days=t.r.data.days,t.is_rent=t.r.data.is_rent,console.log("aaaa",e.data.info.username)}))})).catch((function(t){alert("wrong user")}))}},je=Oe,Ee=(a("4f18"),Object(v["a"])(je,Se,$e,!1,null,null,null)),Ae=Ee.exports;g()(Ee,{VBtn:b["a"],VCard:it["a"],VCardText:st["b"],VContainer:k["a"],VDivider:de["a"],VParallax:$["a"],VRating:rt["a"]});var Pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-parallax",{attrs:{dark:"",src:a("6a8c"),id:"par"}},[n("router-link",{attrs:{to:{name:"home"}}},[n("img",{staticStyle:{float:"left"},attrs:{id:"dog",src:a("aa17"),height:"150",width:"150"}})]),n("v-card",[n("v-card-title",[n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.desserts,"sort-by":"username",search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",[t._v("设备管理")]),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),n("v-spacer"),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",[n("v-row",[t._v(" 租借人： "+t._s(t.name)+" "),n("br"),t._v(" 用途： "+t._s(t.description)+" "),n("br"),t._v(" 联系方式： "+t._s(t.location)+" ")])],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.deny(t.editedItem)}}},[t._v("Deny")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.up_staff(t.editedItem)}}},[t._v("Accept")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),a),[t._v("New Item")])]}}]),model:{value:t.dialog_new,callback:function(e){t.dialog_new=e},expression:"dialog_new"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",[n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"设备名称"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"地址"},model:{value:t.editedItem.location,callback:function(e){t.$set(t.editedItem,"location",e)},expression:"editedItem.location"}})],1),n("v-text-field",{attrs:{label:"用途"},model:{value:t.editedItem.description,callback:function(e){t.$set(t.editedItem,"description",e)},expression:"editedItem.description"}}),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"联系方式"},model:{value:t.editedItem.phone_number,callback:function(e){t.$set(t.editedItem,"phone_number",e)},expression:"editedItem.phone_number"}})],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var a=e.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(a)}}},[t._v(" mdi-pencil ")]),1==a.is_on&&1==a.is_active&&"可租借"==a.is_rent?n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.down_staff(a)}}},[t._v(" mdi-arrow-down-thick ")]):t._e(),1==a.is_on&&0==a.is_active?n("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v(" mdi-dots-horizontal ")]):t._e(),0==a.is_on&&0==a.is_active?n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.up_staff(a)}}},[t._v(" mdi-arrow-up-thick ")]):t._e(),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.deleteItem(a)}}},[t._v(" mdi-delete ")]),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.rowClick(a)}}},[t._v(" mdi-account-details ")]),1==a.is_apply?n("v-icon",{attrs:{small:""}},[t._v(" mdi-alert-circle ")]):t._e()]}}])})],1)],1)},De=[],Ne={data:function(){return{search:"",dialog:!1,dialog_new:!1,headers:[{text:"设备名称",value:"name"},{text:"设备状态",value:"equiptype"},{text:"是否在借",value:"is_rent"},{text:"确认归还",value:"confirm"},{text:"Actions",value:"actions",sortable:!1}],desserts:[],d:[],editedIndex:-1,editedItem:{name:"",location:"",description:"",phone_number:""},defaultItem:{},name:"",phone_number:"",description:"",location:""}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){this.desserts=[]},editItem:function(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.dialog_new=!0},pendingItem:function(t){var e=this,a={};a["equipid"]=t.id,a["token"]=localStorage.getItem("token"),console.log(a),u.a.post("api/equip/rentdescription/",a).then((function(t){console.log(t),e.description=t.data.description,e.location=t.data.location,e.name=t.data.name,e.phone_number=t.data.phone_number})).catch((function(t){alert("wrong user")})),this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this.desserts.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(e,1);var a={};a["equipid"]=t.id,a["token"]=localStorage.getItem("token"),console.log(a),u.a.post("api/equip/delete/",a).then((function(t){console.log(t)})).catch((function(t){alert("wrong user")}))},deny:function(t){var e=this,a={};a["equipid"]=t.id,a["token"]=localStorage.getItem("token"),console.log(a),u.a.post("api/equip/deny/",a).then((function(t){console.log(t)})).catch((function(t){alert("wrong user")})),this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},close:function(){var t=this;this.dialog_new=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(t){console.log(this.editedItem);var e={};e["name"]=this.editedItem.name,e["description"]=this.editedItem.description,e["location"]=this.editedItem.location,e["provider_id"]=localStorage.getItem("userid"),console.log(e),this.editedIndex>-1?(Object.assign(this.desserts[this.editedIndex],this.editedItem),this.close(),u.a.post("api/equip/update/"+e["provider_id"],e).then((function(t){console.log(t)})).catch((function(t){return console.log(t)}))):(u.a.put("api/equip/equiplist/",e).then((function(t){console.log(t),location.reload()})).catch((function(t){return console.log(t)})),this.desserts.push(this.editedItem))},down_staff:function(t){u.a.get("api/equip/off/"+t.id).then((function(t){console.log(t),location.reload()})).catch((function(t){alert("wrong user")}))},up_staff:function(t){var e=this;console.log(t.id),u.a.get("api/equip/on/"+t.id).then((function(t){console.log(t),e.dialog=!1,e.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1,location.reload()}))})).catch((function(t){alert("wrong user")}))},rowClick:function(t){console.log("equip_info/"+t.id),this.$router.push("/equip_info/"+t.id)}},mounted:function(){var t=this;console.log(localStorage.getItem("userid")),u.a.patch("api/equip/equiplist/",localStorage.getItem("userid")).then((function(e){console.log(e),t.d=e.data.list,console.log("aaaa",t.d.length);for(var a=0;a<t.d.length;a++)1==t.d[a].is_on&&1==t.d[a].is_active?(t.d[a]["equiptype"]="上架",console.log("2 success")):1==t.d[a].is_on&&0==t.d[a].is_active?(t.d[a]["equiptype"]="上架申请中",console.log("2 success")):(t.d[a]["equiptype"]="下架",console.log("fail")),1==t.d[a].is_rent?t.d[a]["is_rent"]="租借中":t.d[a]["is_rent"]="可租借",t.d[a].waiting_list.length>0?t.d[a].is_apply=!0:t.d[a].is_apply=!1;t.desserts=t.d,console.log(t.d),console.log(Object(se["a"])(e.data))})).catch((function(t){alert("wrong user")}))}},ze=Ne,Re=(a("c78c"),Object(v["a"])(ze,Pe,De,!1,null,null,null)),Be=Re.exports;g()(Re,{VBtn:b["a"],VCard:it["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:st["c"],VCol:w["a"],VContainer:k["a"],VDataTable:x["a"],VDialog:ce["a"],VDivider:de["a"],VIcon:I["a"],VParallax:$["a"],VRow:C["a"],VSpacer:ue["a"],VTextField:Q["a"],VToolbar:pe["a"],VToolbarTitle:me["a"]});var Me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-parallax",{attrs:{dark:"",src:a("6a8c"),id:"par"}},[n("router-link",{attrs:{to:{name:"home"}}},[n("img",{staticStyle:{float:"left"},attrs:{id:"dog",src:a("aa17"),height:"150",width:"150"}})]),n("v-card",[n("v-card-title",[n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.desserts,"sort-by":"username",search:t.search},on:{"click:row":t.rowClick},scopedSlots:t._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",[t._v("租借设备")]),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),n("v-spacer"),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",[n("v-row",[t._v(" 设备名称： "+t._s(t.name)+" "),n("br"),t._v(" 设备说明： "+t._s(t.description)+" "),n("br"),t._v(" 出借方地址： "+t._s(t.location)+" "),n("br"),t._v(" 联系方式： "+t._s(t.phone_number)+" ")])],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.deny(t.editedItem)}}},[t._v("Deny")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.up_staff(t.editedItem)}}},[t._v("Accept")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var a=e.item;return[1==a.is_on?n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.down_staff(a)}}},[t._v(" mdi-arrow-down-thick ")]):t._e(),0==a.is_on?n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.up_staff(a)}}},[t._v(" mdi-arrow-up-thick ")]):t._e(),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.deleteItem(a)}}},[t._v(" mdi-delete ")]),n("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v(" mdi-account-details ")]),1==a.is_apply?n("v-icon",{attrs:{small:""},on:{click:function(e){return t.editItem(a)}}},[t._v(" mdi-alert-circle ")]):t._e()]}}])})],1)],1)},Fe=[],Ue={data:function(){return{search:"",dialog:!1,headers:[{text:"设备名称",value:"name"},{text:"联系方式",value:"phone_number"},{text:"出借方地址",value:"location"}],desserts:[],d:[],editedIndex:-1,editedItem:{},defaultItem:{},name:"",phone_number:"",description:"",location:""}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){this.desserts=[]},editItem:function(t){var e=this,a={};a["equipid"]=t.id,a["token"]=localStorage.getItem("token"),console.log(a),u.a.post("api/equip/description/",a).then((function(t){console.log(t),e.description=t.data.description,e.location=t.data.location,e.name=t.data.name,e.phone_number=t.data.phone_number})).catch((function(t){alert("wrong user")})),this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this.desserts.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(e,1);var a={};a["equipid"]=t.id,a["token"]=localStorage.getItem("token"),console.log(a),u.a.post("api/equip/delete/",a).then((function(t){console.log(t)})).catch((function(t){alert("wrong user")}))},deny:function(t){var e=this,a={};a["equipid"]=t.id,a["token"]=localStorage.getItem("token"),console.log(a),u.a.post("api/equip/deny/",a).then((function(t){console.log(t)})).catch((function(t){alert("wrong user")})),this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?Object.assign(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),this.close()},down_staff:function(t){u.a.get("api/equip/off/"+t.id).then((function(t){console.log(t),location.reload()})).catch((function(t){alert("wrong user")}))},up_staff:function(t){var e=this;console.log(t.id),u.a.get("api/equip/on/"+t.id).then((function(t){console.log(t),e.dialog=!1,e.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1,location.reload()}))})).catch((function(t){alert("wrong user")}))},rowClick:function(t){console.log("aaaaas"),console.log("post_view/"+t.id),this.$router.push("/post_view/"+t.id)}},mounted:function(){var t=this;u.a.get("api/equip/equiponlist/").then((function(e){console.log(e.data.list),t.d=e.data.list,console.log("aaaa",t.d.length),t.desserts=t.d,console.log(t.d),console.log(Object(se["a"])(e.data))})).catch((function(t){alert("wrong user")}))}},Le=Ue,He=(a("d04c"),Object(v["a"])(Le,Me,Fe,!1,null,null,null)),Je=He.exports;g()(He,{VBtn:b["a"],VCard:it["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:st["c"],VContainer:k["a"],VDataTable:x["a"],VDialog:ce["a"],VDivider:de["a"],VIcon:I["a"],VParallax:$["a"],VRow:C["a"],VSpacer:ue["a"],VTextField:Q["a"],VToolbar:pe["a"],VToolbarTitle:me["a"]});var Ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.desserts,"sort-by":"calories"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("My CRUD")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),n),[t._v("New Item")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Dessert name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Calories"},model:{value:t.editedItem.calories,callback:function(e){t.$set(t.editedItem,"calories",e)},expression:"editedItem.calories"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fat (g)"},model:{value:t.editedItem.fat,callback:function(e){t.$set(t.editedItem,"fat",e)},expression:"editedItem.fat"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Carbs (g)"},model:{value:t.editedItem.carbs,callback:function(e){t.$set(t.editedItem,"carbs",e)},expression:"editedItem.carbs"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Protein (g)"},model:{value:t.editedItem.protein,callback:function(e){t.$set(t.editedItem,"protein",e)},expression:"editedItem.protein"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(n)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(n)}}},[t._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})},Ke=[],Qe={data:function(){return{dialog:!1,headers:[{text:"Dessert (100g serving)",align:"start",sortable:!1,value:"name"},{text:"Calories",value:"calories"},{text:"Fat (g)",value:"fat"},{text:"Carbs (g)",value:"carbs"},{text:"Protein (g)",value:"protein"},{text:"Actions",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){this.desserts=[{name:"Frozen Yogurt",calories:159,fat:6,carbs:24,protein:4},{name:"Ice cream sandwich",calories:237,fat:9,carbs:37,protein:4.3},{name:"Eclair",calories:262,fat:16,carbs:23,protein:6},{name:"Cupcake",calories:305,fat:3.7,carbs:67,protein:4.3},{name:"Gingerbread",calories:356,fat:16,carbs:49,protein:3.9},{name:"Jelly bean",calories:375,fat:0,carbs:94,protein:0},{name:"Lollipop",calories:392,fat:.2,carbs:98,protein:0},{name:"Honeycomb",calories:408,fat:3.2,carbs:87,protein:6.5},{name:"Donut",calories:452,fat:25,carbs:51,protein:4.9},{name:"KitKat",calories:518,fat:26,carbs:65,protein:7}]},editItem:function(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this.desserts.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(e,1)},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){this.editedIndex>-1?Object.assign(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),this.close()}}},We=Qe,Ye=Object(v["a"])(We,Ge,Ke,!1,null,null,null),Xe=Ye.exports;g()(Ye,{VBtn:b["a"],VCard:it["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:st["c"],VCol:w["a"],VContainer:k["a"],VDataTable:x["a"],VDialog:ce["a"],VDivider:de["a"],VIcon:I["a"],VRow:C["a"],VSpacer:ue["a"],VTextField:Q["a"],VToolbar:pe["a"],VToolbarTitle:me["a"]});var Ze,ta=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-parallax",{staticClass:"par",attrs:{dark:"",src:a("6a8c")}},[n("v-container",[n("router-link",{attrs:{to:{name:"home"}}},[n("img",{attrs:{id:"dog",src:a("aa17"),height:"150",width:"150"}})]),n("h2",[t._v("设备信息")]),n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500"}},[n("v-card-text",[n("p",{staticClass:"display-1 text--primary"},[t._v(" "+t._s(t.name)+" ")]),n("p",[t._v("设备状态："+t._s(t.equip_status))]),n("div",{staticClass:"text--primary"},[t._v(" 设备说明："+t._s(t.description)),n("br"),t._v(" 出借地址："+t._s(t.location)),n("br"),t._v(" 联系方式："+t._s(t.phone_number)+" ")])])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.display_list,expression:"display_list"}]},[n("h2",[t._v("借租历史")]),n("v-card",{staticClass:"mx-auto",staticStyle:{overflow:"visible"},attrs:{"max-width":"500"}},[n("v-card-text",t._l(t.list,(function(e,a){return n("div",{staticClass:"text--primary"},[n("h4",[t._v("租借人："+t._s(e.user_name))]),t._v(" 租借开始："+t._s(e.rent_start)),n("br"),t._v(" 租借结束："+t._s(e.rent_exp)),n("br"),t._v(" 联系方式："+t._s(e.phone_number)),n("br"),t._v(" 用途："+t._s(e.reason)+" "),n("v-divider")],1)})),0)],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.display_waiting_list,expression:"display_waiting_list"}]},[n("h2",[t._v("等候者名单")]),n("v-card",{staticClass:"mx-auto",staticStyle:{overflow:"visible"},attrs:{"max-width":"500"}},[n("v-card-text",t._l(t.waiting_list,(function(e,a){return n("div",{staticClass:"text--primary"},[n("h4",[t._v("租借申请人："+t._s(e.user_name))]),t._v(" 租借开始："+t._s(e.rent_start)),n("br"),t._v(" 租借结束："+t._s(e.rent_exp)),n("br"),t._v(" 联系方式："+t._s(e.phone_number)),n("br"),t._v(" 用途："+t._s(e.reason)+" "),n("v-row",{staticStyle:{float:"right"}},[0==e.apply_succes?n("v-btn",{on:{click:function(a){return t.wait_accept(e)}}},[t._v("Accept")]):t._e(),0==e.apply_succes?n("v-btn",{on:{click:function(a){return t.wait_deny(e)}}},[t._v(" Deny")]):t._e()],1),n("v-divider")],1)})),0)],1)],1),n("h2",[t._v("评分 "),n("v-rating",{model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}})],1),n("h2",[t._v("留言")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.provider_display,expression:"provider_display"}]},[n("router-link",{attrs:{to:{name:"my_equip"}}},[n("v-btn",{on:{click:t.rent_manage}},[t._v("目录")])],1),n("router-link",{directives:[{name:"show",rawName:"v-show",value:t.manager_display,expression:"manager_display"}],attrs:{to:{name:"rent_equip"}}},[n("v-btn",{on:{click:t.rent_manage}},[t._v("目录")])],1)],1)],1)],1)},ea=[],aa={name:"Post_View",components:{Post_View:dt,VueHotelDatepicker:at.a},data:function(){return{date:["2020/09/25","2020/09/26"],rating:3,is_staff:0,name:"",equip_status:"",phone_number:"",location:"",description:"",form:{reason:"",phone_number:"",start:"",end:"",equipid:0,user_id:"",user_name:""},set:{equipid:"",aaa:""},history_name:"",rent_start:"",rent_exp:"",reason:"",list:[],display_list:!1,display_waiting_list:!1,waiting_list:[],rent_status:0,is_rent:!1,provider_id:""}},created:function(){this.my_display=!1,Ze=window.location.href,Ze=Ze.split("#"),console.log(Ze),Ze[1]=Ze[1].slice(12),console.log("what is postid",Ze[1])},methods:{wait_accept:function(t){var e=this,a={},n={};a["equipid"]=Ze[1],a["id"]=t.id,n["userid"]=localStorage.getItem("userid"),n["is_rent"]=this.is_rent,n["rent_status"]=this.rent_status,u.a.post("api/equip/wait_allow/",a).then((function(t){console.log(t),e.is_rent=!0,n["is_rent"]=e.is_rent,u.a.post("api/update_user_status/",n).then((function(t){console.log(t),console.log("motherfucker"),location.reload()}))})).catch((function(t){return console.log(t)}))},wait_deny:function(t){var e=this,a={};a["userid"]=localStorage.getItem("userid"),a["is_rent"]=this.is_rent,a["rent_status"]=this.rent_status;var n={};n["equipid"]=Ze[1],n["id"]=t.id,u.a.put("api/equip/wait_allow/",n).then((function(t){console.log(t),e.rent_status=0,e.is_rent=!1,a["is_rent"]=e.is_rent,a["rent_status"]=e.rent_status,u.a.post("api/update_user_status/",a).then((function(t){console.log(t),console.log("motherfucker"),location.reload()}))})).catch((function(t){return console.log(t)}))},data:function(t){this.form.start=t.start,this.form.end=t.end,console.log(t)},send:function(){this.form.user_id=localStorage.getItem("userid"),this.form.equipid=Ze[1],this.form.user_name=localStorage.getItem("username"),console.log(this.form),u.a.put("api/equip/waitlist/",this.form).then((function(t){console.log(t),location.reload()})).catch((function(t){return console.log(t)}))}},mounted:function(){var t=this;u.a.post("api/send_user_status/",localStorage.getItem("userid")).then((function(e){console.log(e.data),t.is_staff=e.data.is_staff,t.is_rent=e.data.is_rent,t.rent_status=e.data.rent_status,1==t.is_staff?t.manager_display=!0:2==t.is_staff?t.provider_display=!0:(t.user_display=!0,console.log(t.user_display)),u.a.get("api/equip/equip/"+Ze[1]).then((function(e){console.log("aaaaaaaaaaaaaaaa",e),t.name=e.data.name,t.phone_number=e.data.phone_number,t.location=e.data.location,t.description=e.data.description,t.provider_id=e.data.provider_id,0==e.data.is_rent?(t.equip_status="可借",console.log("2 success")):(t.equip_status="租借中",console.log("2 success")),t.set.equipid=Ze[1],console.log(Ze[1]),t.set.aaa="0",console.log(t.set),u.a.post("api/equip/waitlist/",t.set).then((function(e){console.log(e),u.a.patch("api/equip/waitlist/",t.set).then((function(e){console.log(e),console.log(e.data.sucess),t.date=e.data.sucess,u.a.post("api/equip/equip_history/",t.set).then((function(e){var a,n,o;console.log(e),t.list=e.data.list,t.list.length>0&&(t.display_list=!0),console.log(t.list);for(var i=0;i<t.list.length;i++)a=t.list[i].rent_start.split("T"),t.list[i].rent_start=a[0],n=t.list[i].rent_exp.split("T"),t.list[i].rent_exp=n[0],o=t.list[i].reason.split("#"),t.list[i]["phone_number"]=o[1],t.list[i].reason=o[0];u.a.post("api/equip/view_wait/",t.set).then((function(e){console.log(e),t.waiting_list=e.data.list,t.waiting_list.length>0&&(t.display_waiting_list=!0);for(var i=0;i<t.waiting_list.length;i++)a=t.waiting_list[i].rent_start.split("T"),t.waiting_list[i].rent_start=a[0],n=t.waiting_list[i].rent_exp.split("T"),t.waiting_list[i].rent_exp=n[0],o=t.waiting_list[i].reason.split("#"),t.waiting_list[i]["phone_number"]=o[1],t.waiting_list[i].reason=o[0];console.log(t.waiting_list)}))}))}))}))}))})).catch((function(t){alert("wrong user")}))}},na=aa,oa=(a("eff7"),Object(v["a"])(na,ta,ea,!1,null,null,null)),ia=oa.exports;g()(oa,{VBtn:b["a"],VCard:it["a"],VCardText:st["b"],VContainer:k["a"],VDivider:de["a"],VParallax:$["a"],VRating:rt["a"],VRow:C["a"]});var sa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-parallax",{attrs:{dark:"",src:a("6a8c"),id:"par"}},[n("div",{attrs:{id:"login_page"}},[n("div",{staticClass:"container"},[n("span",{key:"first",attrs:{id:"logo"}},[n("img",{attrs:{id:"dog",src:a("aa17"),height:"150",width:"150"}}),n("h3",[t._v("申请设备新增")])]),n("v-row",[n("v-col",{staticStyle:{"text-align":"center"}},[n("v-form",[n("label",{attrs:{for:"pw"}},[n("h5",[n("b",[t._v("设备名称")])])]),n("v-text-field",{attrs:{label:"name",outlined:"",shaped:"","background-color":"grey"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),n("label",{attrs:{for:"pw"}},[n("h5",[n("b",[t._v("设备说明")])])]),n("v-textarea",{attrs:{label:"description",outlined:"",shaped:"","background-color":"grey"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}}),n("label",{attrs:{for:"pw"}},[n("h5",[n("b",[t._v("出借方地址")])])]),n("v-text-field",{attrs:{label:"location",outlined:"",shaped:"","background-color":"grey"},model:{value:t.form.location,callback:function(e){t.$set(t.form,"location",e)},expression:"form.location"}}),n("label",{attrs:{for:"pw"}},[n("h5",[n("b",[t._v("联系方式")])])]),n("v-text-field",{attrs:{label:"phone_number",outlined:"",shaped:"","background-color":"grey"},model:{value:t.form.phone_number,callback:function(e){t.$set(t.form,"phone_number",e)},expression:"form.phone_number"}})],1),n("v-btn",{on:{click:t.submit}},[t._v("submit")])],1)],1)],1)])])},ra=[],la={data:function(){return{form:{name:"",location:"",description:"",phone_number:""}}},methods:{submit:function(){console.log(this.$http),console.log(this.form),this.form["provider_id"]=19,console.log(this.form),u.a.post("api/equip/add",this.form).then((function(t){console.log(t)})).catch((function(t){console.warn("ERROR!!!!! : ",t)}))}}},ca=la,da=(a("5bf1"),Object(v["a"])(ca,sa,ra,!1,null,"06126352",null)),ua=da.exports;g()(da,{VBtn:b["a"],VCol:w["a"],VForm:y["a"],VParallax:$["a"],VRow:C["a"],VTextField:Q["a"],VTextarea:lt["a"]}),i["a"].use(L["a"]);var pa=new L["a"]({routes:[{path:"/",component:j,name:"Main"},{path:"/home",component:ne,name:"home"},{path:"/my_info",component:Ae,name:"my_info"},{path:"/my_equip",component:Be,name:"my_equip"},{path:"/rent_equip",component:Je,name:"rent_equip"},{path:"/analysis",component:Xe,name:"analysis"},{path:"/submit_request",component:ua,name:"submit_request"},{path:"/manage_user",component:fe,name:"manage_user"},{path:"/manage_equip",component:ke,name:"manage_equip"},{path:"/manage_rent",component:qe,name:"manage_rent"},{path:"/sign_up",component:Qt,name:"sign_up"},{path:"/info",component:q,name:"info"},{path:"/post_list/:num",component:Y,name:"post_list/"},{path:"/post_view/:id",name:"post_view",component:dt,props:!0},{path:"/equip_info/:id",name:"equip_info",component:ia,props:!0},{path:"/post_write",name:"post_write",component:Ct},{path:"/user_view/:userid",name:"user_view",component:Pt},{path:"/edit_view/:postid",name:"edit_view",component:Ut}]}),ma=a("2f62");i["a"].use(ma["a"]);var ha=new ma["a"].Store({state:{token:localStorage.getItem("token")},mutations:{getToken:function(t){t.token=localStorage.getItem("token")},delToken:function(t){localStorage.removeItem("token"),t.token=null}},actions:{}});i["a"].config.productionTip=!1,new i["a"]({vuetify:U,render:function(t){return t(N)},router:pa,store:ha}).$mount("#app")},"5bf1":function(t,e,a){"use strict";var n=a("0a28"),o=a.n(n);o.a},6180:function(t,e,a){},6452:function(t,e,a){"use strict";var n=a("eabd"),o=a.n(n);o.a},"6a8c":function(t,e,a){t.exports=a.p+"img/main_5.32dcce12.jpg"},"7edc":function(t,e,a){"use strict";var n=a("d5dc"),o=a.n(n);o.a},"7fb1":function(t,e,a){},"96fc":function(t,e,a){"use strict";var n=a("9bc3"),o=a.n(n);o.a},"9bc3":function(t,e,a){},"9f0f":function(t,e,a){},aa17:function(t,e,a){t.exports=a.p+"img/logo.87f96809.svg"},c78c:function(t,e,a){"use strict";var n=a("3406"),o=a.n(n);o.a},d04c:function(t,e,a){"use strict";var n=a("f229"),o=a.n(n);o.a},d5dc:function(t,e,a){},eabd:function(t,e,a){},eff7:function(t,e,a){"use strict";var n=a("1297"),o=a.n(n);o.a},f229:function(t,e,a){},f4a6:function(t,e,a){"use strict";var n=a("3a85"),o=a.n(n);o.a},fc36:function(t,e,a){"use strict";var n=a("02b9"),o=a.n(n);o.a},fd63:function(t,e,a){"use strict";var n=a("5481"),o=a.n(n);o.a}});
//# sourceMappingURL=app.c42f8365.js.map